@page "/ayarlar"
@using TekstilScada.WebApp.Components.Pages


<div class="container-fluid mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2><i class="bi bi-gear-fill me-2"></i>Sistem Ayarları</h2>
    </div>

    <div class="card shadow-sm">
        <div class="card-header">
            <ul class="nav nav-tabs card-header-tabs">
                <li class="nav-item">
                    <a class="nav-link @(activeTab == "machines" ? "active fw-bold" : "")"
                       href="javascript:void(0);"
                       @onclick='() => SetActiveTab("machines")'
                       style="cursor: pointer;">
                        <i class="bi bi-hdd-network me-1"></i> Makine Yönetimi
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link @(activeTab == "users" ? "active fw-bold" : "")"
                       href="javascript:void(0);"
                       @onclick='() => SetActiveTab("users")'
                       style="cursor: pointer;">
                        <i class="bi bi-people-fill me-1"></i> Kullanıcı Yönetimi
                    </a>
                </li>
                @* İleride Alarm Ayarları vb. buraya eklenebilir *@
                <li class="nav-item">
                    <a class="nav-link @(activeTab == "alarms" ? "active fw-bold" : "")"
                       href="javascript:void(0);"
                       @onclick='() => SetActiveTab("alarms")'
                       style="cursor: pointer;">
                        <i class="bi bi-bell-fill me-1"></i> Alarm Tanımları
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link @(activeTab == "costs" ? "active fw-bold" : "")"
                       href="javascript:void(0);"
                       @onclick='() => SetActiveTab("costs")'
                       style="cursor: pointer;">
                        <i class="bi bi-bell-fill me-1"></i> Maliyet Yönetimi
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link @(activeTab == "plcops" ? "active fw-bold" : "")"
                       href="javascript:void(0);" @onclick='() => SetActiveTab("plcops")'>
                        <i class="bi bi-person-badge-fill me-1"></i> PLC Operatörleri
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link @(activeTab == "recipedesign" ? "active fw-bold" : "")"
                       href="javascript:void(0);" @onclick='() => SetActiveTab("recipedesign")'>
                        <i class="bi bi-pencil-square me-1"></i> Reçete Tasarımcısı
                    </a>
                </li>
            </ul>
        </div>
        <div class="card-body p-4">
            @if (activeTab == "machines")
            {
                <MakineYonetimi />
            }
            else if (activeTab == "users")
            {
                <KullaniciYonetimi />
            }
            else if (activeTab == "alarms")
            {
                <AlarmYonetimi />
            }
            else if (activeTab == "costs")
            {
                <MaliyetYonetimi />
            }
            else if (activeTab == "plcops")
            {
                @* --- YENİ BİLEŞEN --- *@
                <PlcOperatorYonetimi />
            }
            else if (activeTab == "recipedesign")
            {
                <ReceteAdimTasarimcisi />
            }
        </div>
    </div>
</div>

@code {
    private string activeTab = "machines";

    private void SetActiveTab(string tabName)
    {
        activeTab = tabName;
    }
}